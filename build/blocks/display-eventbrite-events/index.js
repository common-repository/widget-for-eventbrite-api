(()=>{"use strict";var e,t={752:()=>{const e=window.wp.blocks,t=JSON.parse('{"name":"widget-for-eventbrite-api/display-eventbrite-events"}'),n=window.wp.element,a=window.wp.i18n,i=window.wp.blockEditor,o=window.wp.serverSideRender,r=window.wp.hooks,l=window.wp.components,s=window.wp.primitives,p=(0,n.createElement)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(s.Path,{d:"M18 5.5H6a.5.5 0 00-.5.5v3h13V6a.5.5 0 00-.5-.5zm.5 5H10v8h8a.5.5 0 00.5-.5v-7.5zm-10 0h-3V18a.5.5 0 00.5.5h2.5v-8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z"}));var c,_=new Uint8Array(16);function d(){if(!c&&!(c="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return c(_)}const f=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var u=[],m=0;m<256;++m)u.push((m+256).toString(16).substr(1));const b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(u[e[t+0]]+u[e[t+1]]+u[e[t+2]]+u[e[t+3]]+"-"+u[e[t+4]]+u[e[t+5]]+"-"+u[e[t+6]]+u[e[t+7]]+"-"+u[e[t+8]]+u[e[t+9]]+"-"+u[e[t+10]]+u[e[t+11]]+u[e[t+12]]+u[e[t+13]]+u[e[t+14]]+u[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&f.test(e)}(n))throw TypeError("Stringified UUID is invalid");return n},w=function(e,t,n){var a=(e=e||{}).random||(e.rng||d)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=a[i];return t}return b(a)},{can_use_premium_code:g,is_plan_silver:y,is_plan_gold:v,is_plan_platinum:k}=wfea_freemius;let h={};function E(e){h=e?function(){const e=JSON.parse(JSON.stringify(wfea_controls_meta)),t=["wfea_booknow","wfea_booknow_text","wfea_cssid","wfea_css_class","wfea_date","wfea_debug","wfea_excerpt","wfea_order_by","wfea_readmore_text","wfea_thumb_align","wfea_thumb_width","wfea_widgetwrap","wfea_add_to_cal_button","wfea_eb_id","wfea_first_of_series","wfea_no_events_found_text","wfea_online_events_address_text","wfea_show_date_time","wfea_show_end_date","wfea_show_end_time","wfea_social_share_button","wfea_start_date_range_end","wfea_start_date_range_start","wfea_set_style_venue","wfea_set_style_slider","wfea_accordion_tab_attr","wfea_api_key","wfea_api_key_name","wfea_canceled_event_button","wfea_coming_soon_button","wfea_long_description_modal","wfea_past_event_button","wfea_postponed_button","wfea_sales_ended_button","wfea_sold_out_button","wfea_started_event_button","wfea_tickets_at_the_door_button","wfea_unavailable_button","wfea_events_per_page","wfea_paginate_position","wfea_paged"];return["common","display","enabling","filtering","selection","settings"].forEach((n=>{const a=e[n];Object.keys(a).forEach((a=>{e[n][a]=e[n][a].filter((e=>!t.includes(e.name)))}))})),e}():JSON.parse(JSON.stringify(wfea_controls_meta))}const O=(e,t)=>{let n;return n="wfea_eb_id"===t.name?e.eventOptions:"wfea_organization_id"===t.name?e.organizationOptions:"wfea_organizer_id"===t.name?e.organizerOptions:"wfea_venue_id"===t.name?e.venueOptions:t.args.options,Object.entries(n).map((([e,t])=>({label:t,value:e})))},T=({optionType:e,attributes:t,setAttributes:i,booleanOnly:o=!1})=>{let s=[];E(t.isCalendarBlock),h=(0,r.applyFilters)("wfea-dynamic-options",h),void 0!==h[e]&&void 0!==h[e].free&&(s[e]=h[e].free),s=(0,r.applyFilters)("wfea-options-for-license",s,e,t);for(let e of Object.values(s))for(let n in e){let a=e[n];if(a.args&&a.args.condition)for(let[i,o]of Object.entries(a.args.condition)){let a=i.endsWith("!"),r=(a?i.slice(0,-1):i).replace("wfea_","");if(!t.hasOwnProperty(r)){delete e[n];break}if(a&&(Array.isArray(o)&&o.includes(String(t[r]))||String(t[r])===String(o))){delete e[n];break}if(!a&&(String(t[r])!==String(o)||Array.isArray(o)&&!o.includes(String(t[r])))){delete e[n];break}}}let p=[],c=[],_=[],d=[];return s[e]?(o?p=s[e].filter((e=>!e.hasOwnProperty("type"))):(c=s[e].filter((e=>e.hasOwnProperty("type")&&"text"===e.type&&-1===["wfea_eb_id","wfea_organization_id"].indexOf(e.name))),_=s[e].filter((e=>e.hasOwnProperty("type")&&"number"===e.type)),d=s[e].filter((e=>e.hasOwnProperty("type")&&("select2"===e.type||"select"===e.type||-1!==["wfea_eb_id","wfea_organization_id"].indexOf(e.name))))),(0,n.createElement)(n.Fragment,null,p.map((e=>{const a=e.name.replace("wfea_","");return(0,n.createElement)("div",{style:{whiteSpace:"nowrap"},key:w()},(0,n.createElement)(l.CheckboxControl,{key:w(),label:e.label,onChange:e=>{"thumb_original"===a&&!0===e&&i({thumb:!0}),i({[a]:e}),"long_description_modal"===a&&!0===e&&i({readmore:!1}),"readmore"===a&&!0===e&&i({long_description_modal:!1})},checked:t[a]}))})),c.map((e=>{const a=e.name.replace("wfea_","");return(0,n.createElement)("div",{style:{whiteSpace:"nowrap"},key:w()},(0,n.createElement)(l.__experimentalInputControl,{key:w(),isPressEnterToChange:!0,className:"wfea_input",label:e.label,value:t[a],onChange:e=>{i({[a]:e})}}))})),_.map((e=>{const a=e.name.replace("wfea_","");return(0,n.createElement)("div",{style:{whiteSpace:"nowrap"},key:w()},(0,n.createElement)(l.__experimentalNumberControl,{isPressEnterToChange:!0,className:"wfea_input",key:w(),label:e.label,onChange:e=>{i({[a]:parseInt(e)})},value:isNaN(parseInt(t[a]))?0:parseInt(t[a])}))})),d.map((e=>{const a=e.name.replace("wfea_","");return(0,n.createElement)("div",{id:e.name,key:w()},(0,n.createElement)(l.SelectControl,{key:w(),multiple:!!e.args.multiple,label:e.label,value:e.args.multiple?t[a].split(","):t[a],options:O(t,e),onChange:n=>{i({[a]:e.args.multiple?n.join(","):n}),"organization_id"===a?(e.args.onchange({setAttributes:i,token:t.api_key,organizationID:n,action:"fetch_events_for_key",optionToUpdate:"eventOptions"}),e.args.onchange({setAttributes:i,token:t.api_key,organizationID:n,action:"fetch_organizers_for_key",optionToUpdate:"organizerOptions"}),e.args.onchange({setAttributes:i,token:t.api_key,organizationID:n,action:"fetch_venues_options",optionToUpdate:"venueOptions"})):"venue_id"===a&&e.args.onchange({setAttributes:i,token:t.api_key,venueID:n,action:"fetch_events_for_key",optionToUpdate:"eventOptions"})},__nextHasNoMarginBottom:!0}))})))):(0,n.createElement)("div",{style:{padding:"20px"}},(0,n.createElement)(l.ExternalLink,{href:"/wp-admin/options-general.php?billing_cycle=annual&page=widget-for-eventbrite-api-settings-pricing"},(0,a.__)("Upgrade","widget-for-eventbrite-api")),"  ",(0,a.__)(" for more options. See all options in our ","widget-for-eventbrite-api"),(0,n.createElement)(l.ExternalLink,{href:"https://fullworksplugins.com/products/widget-for-eventbrite/eventbrite-shortcode-demo/?mtm_campaign=block&mtm_kwd=side%20link"},(0,a.__)("demo page","widget-for-eventbrite-api")))};function C(e){const{attributes:t,setAttributes:o,isCalendarBlock:s}=e;function p(e){const t=h[e],n=(0,r.applyFilters)("wfea-block-plans",["free"]);let a=!1;return n.forEach((e=>{t.hasOwnProperty(e)&&void 0!==t[e].find((e=>e.hasOwnProperty("type")))&&(a=!0)})),a}E(s);const c=(0,r.applyFilters)("wfea-api-key-select",null,t,o),_=(0,r.applyFilters)("wfea-cal-list-options",null,t,o,s),d=()=>(0,n.createElement)(n.Fragment,null,c,_);return(0,n.createElement)(i.InspectorControls,null,(0,n.createElement)(l.Panel,{header:(0,a.__)("Display Eventbrite","widget-for-eventbrite-api")},(0,n.createElement)((()=>g?null:(0,n.createElement)("div",{style:{padding:"20px"}},(0,n.createElement)(l.ExternalLink,{href:"/wp-admin/options-general.php?billing_cycle=annual&page=widget-for-eventbrite-api-settings-pricing"},(0,a.__)("Upgrade","widget-for-eventbrite-api")),"  ",(0,a.__)(" to see more layouts. See all options in our ","widget-for-eventbrite-api"),(0,n.createElement)(l.ExternalLink,{href:"https://fullworksplugins.com/products/widget-for-eventbrite/eventbrite-shortcode-demo/?mtm_campaign=block&mtm_kwd=side%20link"},(0,a.__)("demo page","widget-for-eventbrite-api")))),null),(0,n.createElement)((()=>_||c?(0,n.createElement)(l.PanelBody,{title:(0,a.__)("General Options","widget-for-eventbrite-api")},(0,n.createElement)(d,{attributes:t,setAttributes:o})):null),{attributes:t,setAttributes:o}),p("common")&&(0,n.createElement)(l.PanelBody,{title:(0,a.__)("Common Settings","widget-for-eventbrite-api")},(0,n.createElement)(T,{optionType:"common",attributes:t,setAttributes:o})),p("display")&&(0,n.createElement)(l.PanelBody,{title:(0,a.__)("Display Options","widget-for-eventbrite-api")},(0,n.createElement)(T,{optionType:"display",attributes:t,setAttributes:o})),p("enabling")&&(0,n.createElement)(l.PanelBody,{title:(0,a.__)("Enabling Options","widget-for-eventbrite-api")},(0,n.createElement)(T,{optionType:"enabling",attributes:t,setAttributes:o})),p("filtering")&&(0,n.createElement)(l.PanelBody,{title:(0,a.__)("Filtering Options","widget-for-eventbrite-api")},(0,n.createElement)(T,{optionType:"filtering",attributes:t,setAttributes:o})),p("settings")&&(0,n.createElement)(l.PanelBody,{title:(0,a.__)("Settings Options","widget-for-eventbrite-api")},(0,n.createElement)(T,{optionType:"settings",attributes:t,setAttributes:o})),p("selection")&&(0,n.createElement)(l.PanelBody,{title:(0,a.__)("Selection Options","widget-for-eventbrite-api")},(0,n.createElement)(T,{optionType:"selection",attributes:t,setAttributes:o}))))}const x=e=>{let t={nonce:wfea_controls_meta.nonce};t=Object.assign({},t,e);let{setAttributes:n,optionToUpdate:a,...i}=t;jQuery.ajax({url:wfea_controls_meta.ajaxurl,type:"POST",data:i,success:function(e){n({[a]:e})}})},S=()=>(0,n.createElement)(l.Dashicon,{icon:"index-card"}),A=()=>(0,n.createElement)(l.Dashicon,{icon:"list-view"});document.addEventListener("focusout",(e=>{e.classList&&e.classList.contains("wfea_input")&&e.click()})),(0,r.addFilter)("wfea-block-layouts","widget-for-eventbrite-api/display-eventbrite-events",(function(e,t){return[{title:"Widget",icon:A,onClick:()=>{t({limit:5}),t({layout:"widget"})}},{title:"Card",icon:S,onClick:()=>{t({limit:5}),t({layout:"card"})}}]}),1),(0,r.addFilter)("wfea-block-display","widget-for-eventbrite-api/display-eventbrite-events",(function(e,t,a){return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(T,{optionType:"display",attributes:a,setAttributes:t,booleanOnly:!0}))}),1),(0,r.addFilter)("wfea-block-filters","widget-for-eventbrite-api/display-eventbrite-events",(function(e,t,a){return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(T,{optionType:"filtering",attributes:a,setAttributes:t,booleanOnly:!0}))}),1),(0,r.addFilter)("wfea-block-enablers","widget-for-eventbrite-api/display-eventbrite-events",(function(e,t,a){return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(T,{optionType:"enabling",attributes:a,setAttributes:t,booleanOnly:!0}))}),1);const{name:F}=t,z=()=>(0,n.createElement)(l.Spinner,null);document.addEventListener("click",(function(e){const t=e.target.closest(".block-editor-block-list__block.wp-block-widget-for-eventbrite-api-display-eventbrite-events");t&&(e.preventDefault(),(0,r.applyFilters)("wfea-handle-search",t,e))}));const{name:P}=t;(0,e.registerBlockType)(P,{edit:function(e){const{attributes:t,setAttributes:s}=e,c=(0,r.applyFilters)("wfea-block-layouts",[],s),_=(0,r.applyFilters)("wfea-block-display","",s,t),d=(0,r.applyFilters)("wfea-block-filters","",s,t),f=(0,r.applyFilters)("wfea-block-enablers","",s,t),u=(0,r.applyFilters)("wfea-block-theme-colors","",s,t),m=(0,r.applyFilters)("wfea-block-extra-theme-styles","",s,t),b=(0,r.applyFilters)("wfea-block-extra-theme-contrast","",s,t),w=(0,r.applyFilters)("wfea-block-calc-style",t.style,t);return function(e,t){(0,n.useEffect)((()=>{var n;(n=jQuery)((function(){try{n("[data-eb-id]").wfeaBindLinksToEB()}catch(e){}})),x({setAttributes:e,action:"fetch_api_key_options",optionToUpdate:"apiKeyOptions"}),x({setAttributes:e,token:t.api_key,action:"fetch_organizations_for_key",optionToUpdate:"organizationOptions"}),x({setAttributes:e,token:t.api_key,organizationID:t.organization_id,action:"fetch_events_for_key",optionToUpdate:"eventOptions"}),x({setAttributes:e,token:t.api_key,organizationID:t.organization_id,action:"fetch_organizers_for_key",optionToUpdate:"organizerOptions"}),x({setAttributes:e,token:t.api_key,organizationID:t.organization_id,action:"fetch_venues_options",optionToUpdate:"venueOptions"})}),[])}(s,t),(0,n.createElement)("div",(0,i.useBlockProps)(),(0,n.createElement)(i.BlockControls,null,(0,n.createElement)(l.Toolbar,null,(0,n.createElement)(l.DropdownMenu,{icon:p,label:(0,a.__)("Select a layout","widget-for-eventbite-api"),controls:c,position:"bottom center"}),m,b,(0,n.createElement)(l.Dropdown,{position:"bottom center",renderToggle:({isOpen:e,onToggle:t})=>(0,n.createElement)(l.Button,{icon:"edit",onClick:t,"aria-expanded":e,label:(0,a.__)("Edit Display Options","widget-for-eventbite-api")}),renderContent:()=>(0,n.createElement)(n.Fragment,null,(0,n.createElement)(l.MenuGroup,null,_))}),(0,n.createElement)(l.Dropdown,{position:"bottom center",renderToggle:({isOpen:e,onToggle:t})=>(0,n.createElement)(l.Button,{icon:"filter",onClick:t,"aria-expanded":e,label:(0,a.__)("Set Filters","widget-for-eventbite-api")}),renderContent:()=>(0,n.createElement)(n.Fragment,null,(0,n.createElement)(l.MenuGroup,null,d))}),(0,n.createElement)(l.Dropdown,{position:"bottom center",renderToggle:({isOpen:e,onToggle:t})=>(0,n.createElement)(l.Button,{icon:"yes-alt",onClick:t,"aria-expanded":e,label:(0,a.__)("Set Enabling","widget-for-eventbite-api")}),renderContent:()=>(0,n.createElement)(n.Fragment,null,(0,n.createElement)(l.MenuGroup,null,f))}),(0,n.createElement)(l.DropdownMenu,{icon:"color-picker",label:(0,a.__)("Theme Colors","widget-for-eventbite-api"),controls:u,position:"bottom center",className:"wfea-block-control__theme_colors"}))),(0,n.createElement)(C,{attributes:t,setAttributes:s}),(0,n.createElement)(o,{block:F,httpMethod:"POST",attributes:{...t,style:w},LoadingResponsePlaceholder:z}))},save:()=>null})}},n={};function a(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,a),o.exports}a.m=t,e=[],a.O=(t,n,i,o)=>{if(!n){var r=1/0;for(c=0;c<e.length;c++){for(var[n,i,o]=e[c],l=!0,s=0;s<n.length;s++)(!1&o||r>=o)&&Object.keys(a.O).every((e=>a.O[e](n[s])))?n.splice(s--,1):(l=!1,o<r&&(r=o));if(l){e.splice(c--,1);var p=i();void 0!==p&&(t=p)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[n,i,o]},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={499:0,827:0};a.O.j=t=>0===e[t];var t=(t,n)=>{var i,o,[r,l,s]=n,p=0;if(r.some((t=>0!==e[t]))){for(i in l)a.o(l,i)&&(a.m[i]=l[i]);if(s)var c=s(a)}for(t&&t(n);p<r.length;p++)o=r[p],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(c)},n=globalThis.webpackChunkwidget_for_eventbrite_api=globalThis.webpackChunkwidget_for_eventbrite_api||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var i=a.O(void 0,[827],(()=>a(752)));i=a.O(i)})();